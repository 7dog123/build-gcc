diff -ur djlsr205-orig/src/makefile djlsr205/src/makefile
--- djlsr205-orig/src/makefile	2017-04-24 19:00:19.000000000 +0800
+++ djlsr205/src/makefile	2017-04-24 19:00:29.000000000 +0800
@@ -40,17 +40,18 @@
 	$(MAKE) -C stub native
 	$(MAKE) -C utils native
 	$(MAKE) -C dxe native
-	$(MAKE) -C mkdoc
-	$(MAKE) -C libc
-	$(MAKE) -C debug
-	$(MAKE) -C djasm
-	$(MAKE) -C stub
-	$(MAKE) -C dxe
-	$(MAKE) -C libemu
-	$(MAKE) -C libm
-	$(MAKE) -C utils
-	$(MAKE) -C docs
-	-$(MAKE) -C ../zoneinfo/src
+	$(MAKE) -C dxe -f makefile.dxe
+	#$(MAKE) -C mkdoc
+	#$(MAKE) -C libc
+	#$(MAKE) -C debug
+	#$(MAKE) -C djasm
+	#$(MAKE) -C stub
+	#$(MAKE) -C dxe
+	#$(MAKE) -C libemu
+	#$(MAKE) -C libm
+	#$(MAKE) -C utils
+	#$(MAKE) -C docs
+	#-$(MAKE) -C ../zoneinfo/src
 	$(MAKE) -f makempty
 
 .PHONY : clean
diff -ur djlsr205-orig/src/misc.c djlsr205/src/misc.c
--- djlsr205-orig/src/misc.c	2017-04-24 19:00:19.000000000 +0800
+++ djlsr205/src/misc.c	2017-04-24 19:01:06.000000000 +0800
@@ -14,7 +14,11 @@
 {
   /* MS-DOS uses \, unix uses / */
   if (argc > 2 && strcmp(argv[1], "mkdir") == 0)
+#if defined(__MINGW32__) || defined(__MINGW64__)
+    _mkdir(argv[2]);
+#else
     mkdir(argv[2], 0777);
+#endif
 
   /* redirection and long command lines don't always
      mix well under MS-DOS */
diff -ur djlsr205-orig/src/stub/exe2coff.c djlsr205/src/stub/exe2coff.c
--- djlsr205-orig/src/stub/exe2coff.c	2017-04-24 19:00:19.000000000 +0800
+++ djlsr205/src/stub/exe2coff.c	2017-04-24 19:00:29.000000000 +0800
@@ -5,10 +5,10 @@
 #include <fcntl.h>
 #include <sys/stat.h>
 #include <string.h>
-#include <io.h>
 #include <unistd.h>
 #include <ctype.h>
 
+#define O_BINARY 0
 
 static void
 exe2aout(char *fname)
